"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const _1 = require("./");
function filter({ data, where, sort, page, itemsPerPage, schema, context, filterFunctions }) {
    if (!filterFunctions) {
        filterFunctions = new _1.FilterFunctions();
    }
    const { where: filterBy, sort: sortBy, getPageItems } = filterFunctions;
    if (where) {
        data = filterBy(data, where, schema);
    }
    if (sort) {
        data = sortBy(data, sort);
    }
    if (context) {
        context.length = data.length;
    }
    if (page && itemsPerPage) {
        data = getPageItems(data, page, itemsPerPage);
    }
    return data;
}
exports.filter = filter;
